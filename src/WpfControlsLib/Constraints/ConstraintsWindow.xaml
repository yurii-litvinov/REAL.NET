<Window x:Class="WpfControlsLib.Constraints.ConstraintsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WpfControlsLib"
        xmlns:system="clr-namespace:System;assembly=mscorlib"
        mc:Ignorable="d"
        ResizeMode="NoResize"
        Title="ConstraintsWindow" Height="346" Width="670">
    <Window.Resources>
        <DataTemplate x:Key="TypeClass">
            <TextBlock Text="{Binding Value}"/>
        </DataTemplate>
    </Window.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="3*" />
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="2*" />
        </Grid.ColumnDefinitions>
        <StackPanel Grid.Column="0">
            <TextBlock Grid.Column="0" 
                    Text="Object Type: " 
                    Margin="10,10,0,0" 
                    Height="Auto"/>
            <ComboBox x:Name="ObjType"
                    Grid.Column="0"
                    HorizontalAlignment="Left"
                    Margin="10,3,0,0"
                    Height="Auto"
                    VerticalAlignment="Top"
                    Width="159" SelectionChanged="ObjType1_SelectionChanged" Grid.ColumnSpan="2">
                <ComboBoxItem x:Name="edge" Content="Edge"/>
                <ComboBoxItem x:Name="node" Content="Node"/>
            </ComboBox>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <TextBlock Text="Element Type:" 
                           Grid.Column="0"
                           Margin="10,10,0,0"
                           Height="Auto"/>
                <ComboBox x:Name="ElementType1"
                        Grid.Column="0"
                        SelectionChanged="ElementType1_SelectionChanged"
                        HorizontalAlignment="Left"
                        Margin="10,30,0,0"
                        Height="Auto"
                        VerticalAlignment="Top"
                        Width="159"/>

                <TextBlock x:Name="arrowLabel"
                        Grid.Column="1"
                        Text="→"
                        FontSize="20"
                        Margin="0,25,0,0" 
                        Height="Auto"
                        Visibility="Hidden"/>

                <TextBlock Text="Element Type:"
                           Margin="18,10,-8,0"
                           Height="Auto" Grid.Column="2"/>
                <ComboBox x:Name="ElementType2"
                        IsHitTestVisible="false"
                        Grid.Column = "2"
                        SelectionChanged="ElementType2_SelectionChanged"
                        HorizontalAlignment="Left"
                        Margin="17,30,0,0"
                        Height="Auto"
                        VerticalAlignment="Top"
                        Width="159" 
                        Grid.ColumnSpan="2"/>
            </Grid>

            <TextBlock Text="Attribute:"
                           Margin="10,10,0,0" 
                           Height="Auto" Grid.Column="2"/>
            <ComboBox x:Name="Attributes"
                        Grid.Column = "2"
                        SelectionChanged="Attributes_SelectionChanged"
                        HorizontalAlignment="Left"
                        Margin="10,0,0,0" 
                        Height="Auto"
                        VerticalAlignment="Top"
                        Width="159"
                        Grid.ColumnSpan="2"/>

            <TextBlock x:Name="valueLabel" 
                    Text="Value or amount range:" 
                    Margin="10,10,0,0" 
                    Height="Auto"
                    Visibility="Visible" Grid.ColumnSpan="2"/>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <TextBox x:Name="fromBox" 
                     Grid.Column="0"
                     FontSize="12"
                     Margin="10,0,0,0" 
                     Height="Auto"
                     Width="105"
                     HorizontalAlignment="Left"
                     Visibility="Visible"/>
                <ComboBox x:Name="Values"
                        Grid.Column="0"
                        Visibility="Hidden"
                        SelectionChanged="BooleanValues_SelectionChanged"
                        HorizontalAlignment="Left"
                        Margin="10,0,0,0" 
                        Height="Auto"
                        VerticalAlignment="Top"
                        Width="159"
                        Grid.ColumnSpan="2">
                    <ComboBoxItem x:Name="true" Content="true"/>
                    <ComboBoxItem x:Name="false" Content="false"/>
                </ComboBox>
                          
                <TextBlock x:Name="rangeLabel"
                        Text="⩽ x ⩽"
                        FontSize="15"
                        Visibility="Visible" Margin="119,0,42,0"/>
                <TextBox x:Name="toBox"
                     FontSize="12" 
                     Height="Auto"
                     Width="105"
                     HorizontalAlignment="Left"
                     Visibility="Visible" Grid.ColumnSpan="3" Margin="161,0,0,0"/>
            </Grid>
            <TextBox x:Name="stringBox" 
                     Grid.Column="0"
                     FontSize="12"
                     Margin="10,-22,0,0" 
                     Height="Auto"
                     Width="300"
                     HorizontalAlignment="Left"
                     Visibility="Hidden"/>
            <Button x:Name="createConstraint"
                    Content="Create" 
                    Margin="10,10,0,0"
                    Height="Auto"
                    Width="147"
                    HorizontalAlignment="Left"
                    Click="CreateConstraint_Click"
                    />
            <TextBlock x:Name="errorLabel" 
                    TextWrapping="WrapWithOverflow"
                    Text="Error:" 
                    Margin="10,10,10,0" 
                    Height="61"
                    Visibility="Hidden"/>
        </StackPanel>
        <GridSplitter Grid.Column="1" 
                      ShowsPreview="False" 
                      Width="3"
                      HorizontalAlignment="Center" 
                      VerticalAlignment="Stretch" />
        <Grid Grid.Column="2">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <ItemsControl Name="ConstraintsPanel">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Grid Margin="10,0,10,5"
                                  Height="75">
                                <Border BorderBrush="SlateGray" BorderThickness="1">
                                    <Grid x:Name="innerGrid" 
                                          Margin="0,0,0,0" 
                                          Height="75"
                                          Background="GhostWhite">
                                        <TextBlock Text="{Binding Output}" 
                                                   Margin="5,0,0,0" 
                                                   VerticalAlignment="Center"/>
                                        <Button x:Name="createConstraint"
                                                Content="✕" 
                                                Margin="0,5,5,0"
                                                Height="Auto"
                                                Width="18"
                                                HorizontalAlignment="Right"
                                                VerticalAlignment="Top"
                                                Click="DeleteItem_Click"
                                        />
                                        <Button x:Name="Edit"
                                                Content="🖉" 
                                                Margin="0,0,5,5"
                                                Height="Auto"
                                                Width="18"
                                                HorizontalAlignment="Right"
                                                VerticalAlignment="Bottom"
                                                Click="EditItem_Click"
                                        />
                                    </Grid>
                                </Border>
                            </Grid>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </ScrollViewer>
        </Grid>
    </Grid>
</Window>
